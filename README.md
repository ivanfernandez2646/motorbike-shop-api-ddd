## Description

MotorBike Shop API (tiny DDD) ðŸ˜Ž.

<table>
  <tr>
    <td valign="center">
      <h4>Tools</h4>
      <ul list-style-type="none">
        <li>
          <img align="center" src="https://seeklogo.com/images/N/nodejs-logo-FBE122E377-seeklogo.com.png" alt="drawing" width="30"/> Node.js (Typescript)
        </li>
        <br/>
        <li>
          <img align="center" src="data:image/png;base64,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" alt="drawing" width="30"/> Express
        </li>
        <br/>
        <li>
          <img align="center" src="https://www.svgviewer.dev/static-svgs/34566/mongodb.svg" alt="drawing" width="30"/> MongoDB
        </li>
        <br/>
        <li>
          <img align="center" src="https://cdn-icons-png.flaticon.com/512/919/919853.png" alt="drawing" width="30"/> Docker
        </li>
        <br/>
        <li>
          <img align="center" src="https://nx.dev/documentation/shared/jest-logo.png" alt="drawing" width="30"/> Jest
        </li>
        <br/>
      </ul>
    </td>
  </tr>
</table>

## Requirements

```
Node.js --> min v14.0.0 (v14.21.1-lts/fermium recommended)
docker-compose --> to create DDBB instance (test and dev)
```

## Installation

```bash
$ npm install
```

## Running the app

```bash
# Makefile option
$ make start

# Or
$ npm run up:mongo # to up Docker with Mongo (docker-compose necessary)
$ npm run dev:cms:backend
```

## Test

```bash
# Makefile option
$ make test # Run all tests

# Or
$ npm run up:mongo # follow we can use whatever of the below commands

    # all tests
    $ npm run test

    # unit tests
    $ npm run test:unit

    # features e2e (cucumber)
    $ npm run test:features

    # integration (infrastructure)
    $ npm run test:integration
```

## Deploy

```bash
$ npm run deploy
```

## TODO Improves

<ol>
  <li>Register events in app using domain events. We follow DDD but we need to create DomainEvent classes, domain event bus and register events in the domain.</li>
  <li>Implement CQRS (eventBus and queryBus) to avoid instantiate ValueObjects outside the context. Commands and Queries will be a handler and middleware between external app (Express.js API) and bounded context.</li>
  <li>Generate cursors in search to increase performance when data stored would grow</li>
  ...
</ol>
